<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8">
    <title>Оптимизация катушки</title>
    <script src="../../library/plotly.min.js" ></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- CSS only -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/css/bootstrap.min.css" integrity="sha384-r4NyP46KrjDleawBgD5tp8Y7UzmLA05oM1iAEQ17CSuDqnUK2+k9luXQOfXJCJ4I" crossorigin="anonymous">
    <link rel="stylesheet" href="../styles.css">

    <link rel="icon" href="img/main-ikon.png">
    <script src="../js/jsfile1.js"></script>

    <!-- JavaScript and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/5.0.0-alpha1/js/bootstrap.min.js" integrity="sha384-oesi62hOLfzrys4LxRF63OJCXdXDipiYWBnvTl9Y9/TRlw5xlKIEHpNyvvDShgf/" crossorigin="anonymous"></script>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
        /* доп стили */
        button {
            width: 150px;
            height: 50px;
            max-width: 50%;
            border-radius: 50px !important;
            color: #595959;
            background-color: #dec8ff;
        }
        .image-container {
            display: flex;
            justify-content: center; /* Выравнивание по горизонтали по центру */
            align-items: center; /* Выравнивание по вертикали по центру */
            margin-top: 10px; /* Добавим немного отступа сверху для красоты */
        }

        .image-container img {
            width: 450px; /* Распределение ширины на два изображения */
            height: 300px;
            margin: 5px; /* Добавляем небольшое расстояние между изображениями */
        }
    </style>
</head>
<body>


<!-- Navbar -->
<nav class="py-3 navbar navbar-expand-lg fixed-top auto-hiding-navbar">
    <div class="container d-flex justify-content-center">
        <ul class="navbar-nav justify-content-center">
            <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="../index.html#hero">Главная</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="../index.html#hero">Описание</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="../index.html#task-all">Задачи</a>
            </li>
        </ul>
    </div>
</nav>
<!-- End Navbar -->

<!-- Hero section -->
<section id="hero1" style="margin-top: 150px;">
    <div class="container">
        <div class="row">
            <div class="col">
                <h5>Моделирование</h5>
                <h1>Задача 2: «Оптимизация катушки»</h1>

                <g1> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-stars" viewBox="0 0 16 16">
                    <path d="M7.657 6.247c.11-.33.576-.33.686 0l.645 1.937a2.89 2.89 0 0 0 1.829 1.828l1.936.645c.33.11.33.576 0 .686l-1.937.645a2.89 2.89 0 0 0-1.828 1.829l-.645 1.936a.361.361 0 0 1-.686 0l-.645-1.937a2.89 2.89 0 0 0-1.828-1.828l-1.937-.645a.361.361 0 0 1 0-.686l1.937-.645a2.89 2.89 0 0 0 1.828-1.828zM3.794 1.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387A1.73 1.73 0 0 0 4.593 5.69l-.387 1.162a.217.217 0 0 1-.412 0L3.407 5.69A1.73 1.73 0 0 0 2.31 4.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387A1.73 1.73 0 0 0 3.407 2.31zM10.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.16 1.16 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.16 1.16 0 0 0-.732-.732L9.1 2.137a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732z"/>
                </svg> 4 балла</g1> <br>

            </div>
        </div>
    </div>
    <br> <br><br>
    <div class="container">
        <h3>Условие задачи</h3>

        Из провода длиной L и диаметром d требуется намотать катушку на цилиндрический
        каркас диаметром D и длиной l, таким образом, чтобы получить максимальную индукцию
        магнитного поля на оси катушки в центре. Число витков N должно быть одинаково по
        всей длине катушки. Определите индуктивность получившейся катушки. Параметры
        должны задаваться. Построить график зависимости В=f(l).<br><br>



        <strong>Входные параметры:</strong> длина провода, диаметр провода, длина каркаса, диаметр каркаса. <br>
        <strong>Итоговый вид модели:</strong>  график зависимости В=f(l).
    </div> <br> <br>
    <div class="container">
        <h3>Решение</h3><br>

        <h4>Физические понятия</h4><br>

        <strong>1. Индуктивность катушки (L): </strong> физическая величина, характеризующая способность катушки создавать индуктивное
        электромагнитное поле при прохождении через неё переменного тока. Измеряется в генри (Гн).

        <br><strong>2.Индукция магнитного поля (B): </strong>  векторная физическая величина, которая характеризует магнитное поле в точке пространства и в любой момент времени. Измеряется в теслах (Тл).


        <div class="image-container">
            <img src="../img/img_1.png" alt="Первое изображение">
            <img src="../img/img.png" alt="Второе изображение">
        </div>

        <br><br><h4>Вывод формул</h4><br>

        Для начала определим необходимые формулы:<br><br>

        <strong>I. Определим индуктивность получившейся катушки</strong><br>

        <strong>1. Количество витков N на катушке:</strong><br>

        \[ N_{1} = \frac{L}{\pi \cdot D}, \, \, \, N_{2} = \frac{l}{d} \]

        \[ \text{где } L \text{ - длина провода, } d \text{ - диаметр цилиндрического каркаса, } l \text{ - длина цилиндрического каркаса, } D \text{ - диаметр цилиндрического каркаса.} \]
        Может быть 3 ситуации:

        <br>1. Короткий провод - тогда он займет не всю катушку. Тогда будем использовать формулу, где учитывается длина провода (по 1 формуле).
        <br>2. Может быть такое, что цилиндрический каркас короткий, тогда часть провода будет висеть, следовательно - рассчитываем  количество витков по второй формуле.
        <br>3. Когда расчеты по двум формулам равны - весь провод намотали на катушку. Тогда нет разницы по какой формуле считать

        <br><br>Таким образом, количество витков буду расчитывать по следующей формуле $$ N = min(N_{1}, N_{2}) = min (\frac{L}{\pi \cdot D}; \frac{l}{d}); $$

        <strong>2. Площадь поперечного сечения круга через его диаметр:</strong><br>
        \[ S = \pi \cdot r^2 \]

        где \( r \) - радиус круга.

        Если известен диаметр круга \( D \), то радиус \( r \) можно найти, разделив диаметр на 2:

        \[ r = \frac{D}{2} \]

        Таким образом, площадь поперечного сечения через диаметр круга будет:

        \[ S = \pi \cdot \left( \frac{D}{2} \right)^2 \]
        <strong>3. Выведем формулу индуктивности:</strong><br>

        Согласно основному соотношению, связывающему между собой ток I и поток \(Ф_B\), индуктивность проводника определяется выражением:
        \[ L = \frac{Ф_B}{I} = \frac{\iint_{S} \vec{B} d \vec{S} }{I} \]

        Применим эту формулу для расчета индуктивности прямого длинного соленоида.

        Имеем: \[ B = \mu_0 \cdot \mu \cdot H = \mu_0 \cdot \mu \cdot \frac{N}{l} \cdot I \]

        \[ H = n \cdot l = \frac{N}{l} \cdot I \]
        \[ \text{где } n \text{ - плотность намотки витков } \]

        Поток магнитной индуктивности через один виток катушки \[ Ф_{1} = \iint_{S} \vec{B} d \vec{S}, \, \, (\vec{B} &perp; d \vec{S}); \]
        Через все N витков поток равен: \(Ф_B = N \cdot Ф_{1} = N \cdot B \cdot S = \mu_0 \cdot \mu \cdot \frac{N^2}{l} \cdot S \cdot I  \)

        <br><br>Поделив это выражение на I, аходим искомую индуктивность соленоида:
        \[ L = \frac{Ф_B}{I} = \mu_0 \cdot \mu \cdot \frac{N^2}{l} \cdot S = \mu_0 \cdot \mu \cdot \frac{N^2}{l} \cdot \pi \cdot \left( \frac{D}{2} \right)^2  \]

        По условию \( \mu = 1 \)

        \[ L = \mu_0 \cdot \frac{N^2}{l} \cdot \pi \cdot \left( \frac{D}{2} \right)^2  \]

        <br><strong>II. Построить график зависимости В=f(l)</strong><br>
        Таким образом, 1 часть задания определила как решить. Осталось построить график зависимости В = f(l). В условии силы тока нет, поэтому я предпологаю, что здесь имеют в виду за ось абсцисс - длина катушки, ординат - отношение \( \frac{B}{I} \).

        По условию \( \mu = 1 \)

        \[ B = \mu_0 \cdot \frac{N}{l} \cdot I \]
        \[ \frac{B}{I} = \mu_0 \cdot \frac{N}{l} \]

        <br><br><h4>Код:</h4><br>

        1. Получаем значения параметров из полей ввода:<br><br>
        <pre>
let wireLength = parseFloat(document.getElementById('wire-length').value); // L
let wireDiameter = parseFloat(document.getElementById('wire-diameter').value) / 1000; //d переводим из мм в м
let frameLength = parseFloat(document.getElementById('frame-length').value); // l
let frameDiameter = parseFloat(document.getElementById('frame-diameter').value); // D
        </pre>

        2. Вычисление площади поперечного сечения катушки:<br><br>
        <pre>
let frameRadius = frameDiameter / 2;
let coilArea = Math.PI * Math.pow(frameRadius, 2);
        </pre>

        3. Вычисление количества витков N на катушке:<br><br>
        <pre>
let N_1 = wireLength / (Math.PI * frameDiameter);
let N_2 = frameLength / wireDiameter;
let N = Math.floor(Math.min(N_1, N_2));
        </pre>

        4. Вывод результатов:<br><br>
        <pre>
let calculationsDiv = document.getElementById('calculations');
calculationsDiv.innerHTML = Результаты расчета:
Число витков катушки (N): ${N}
Индуктивность катушки (L): ${inductance.toFixed(10)} Гн;
        </pre>

        5. Построение графика:<br><br>
        <pre>
let data = [];
for (let l = 0.1; l <= frameLength; l += 0.01) { // Проходим по длинам катушек от 0.1 до frameLength
     let B = mu0 * N / l; // Расчет индукции магнитного поля B
     data.push([l, B]); // Добавляем точку (l, B) в массив данных
}
        </pre>

        6. Используем библиотеку Plotly для построения графика:<br><br>
        <pre>
Plotly.newPlot('plot', [{
    x: data.map(point => point[0]), // Длина катушки
    y: data.map(point => point[1]), // Индукция магнитного поля B
    mode: 'lines',
    type: 'scatter',
    name: 'B от l',
    line: {
        color: 'rgb(178, 102, 255)',
    }
}], {
    xaxis: {
        title: 'Длина катушки (м)',
    },
    yaxis: {
        title: 'B/I'
    },
    title: 'Зависимость индукции магнитного поля B от длины катушки'
});
        </pre>

        <br><br><h3>Визуализация</h3><br>

        <div>
            <strong>Провод:</strong><br><br>
            <label for="wire-length">Длина провода (м):</label>
            <input type="number" id="wire-length" step="any" value="10"><br><br>
            <label for="wire-diameter">Диаметр провода (мм):</label>
            <input type="number" id="wire-diameter" step="any" value="1"><br><br>
            <strong>Цилиндрический каркас:</strong><br><br>
            <label for="frame-length">Длина каркаса (м):</label>
            <input type="number" id="frame-length" step="any" value="0.5"><br><br>
            <label for="frame-diameter">Диаметр каркаса (м):</label>
            <input type="number" id="frame-diameter" step="any" value="0.2"><br><br>

            <button onclick="calculateInductance()">Рассчитать</button>
        </div>
        <div id="calculations"></div>
        <div id="plot"></div>

        <script>
            function calculateInductance() {
                // Получаем значения параметров из полей ввода
                let wireLength = parseFloat(document.getElementById('wire-length').value); // L
                let wireDiameter = parseFloat(document.getElementById('wire-diameter').value) / 1000; //d переводим из мм в м
                let frameLength = parseFloat(document.getElementById('frame-length').value); // l
                let frameDiameter = parseFloat(document.getElementById('frame-diameter').value); // D

                // Вычисление площади поперечного сечения катушки
                let frameRadius = frameDiameter / 2;
                let coilArea = Math.PI * Math.pow(frameRadius, 2);

                // N_(1)=\frac{L}{\pi \cdot D} N_(2)=\frac{l}{d}
                let N_1 = wireLength / (Math.PI * frameDiameter);
                let N_2 = frameLength / wireDiameter;
                let N = Math.floor(Math.min(N_1, N_2));

                let mu = 1;
                // Вычисление индуктивности катушки
                let mu0 = 12.56 * Math.pow(10, -7); // Магнитная постоянная
                let inductance = (mu0 * Math.pow(N, 2) * coilArea * mu) / frameLength;

                // Вывод результатов
                let calculationsDiv = document.getElementById('calculations');
                calculationsDiv.innerHTML = `
        <br><br><h4>Результаты расчета:</h4>
        Число витков катушки (N): ${N}
        <br>Индуктивность катушки (L): ${inductance.toFixed(10)} Гн
    `;
                // Построение графика
                let data = [];
                for (let l = 0.1; l <= frameLength; l += 0.01) {
                    let B = mu0 * N / l;
                    data.push([l, B]);
                }

                // Используем библиотеку Plotly для построения графика
                Plotly.newPlot('plot', [{
                    x: data.map(point => point[0]), // Длина катушки
                    y: data.map(point => point[1]), // Индукция магнитного поля B
                    mode: 'lines',
                    type: 'scatter',
                    name: 'B от l',
                    line: {
                        color: 'rgb(178, 102, 255)',
                    }
                }], {
                    xaxis: {
                        title: 'Длина катушки (м)',
                    },
                    yaxis: {

                        title: 'B/I'
                    },
                    title: 'Зависимость индукции магнитного поля B от длины катушки'
                });
            }
        </script>
    </div>
</section>
<!-- End Hero section -->



<!-- Contact section -->
<section id="contact" style="margin-top: 50px;">
    <div class="container">
        <div class="row align-items-center">
            <div class="col">
                <h1>Контакты</h1>
                <h5>Гонос Анна M3204</h5>
                <p>ITMO University  |  Software Engineering</p>
            </div>
        </div>
    </div>

    <a href="https://github.com/AnnaGonos/Modeling" target="_blank" class="mr-3">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-github text-white" viewBox="0 0 16 16" >
            <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
        </svg>
    </a>
    <a href="https://t.me/gonosanna" target="_blank" class="mr-3">
        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-telegram text-white" viewBox="0 0 16 16">
            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.287 5.906q-1.168.486-4.666 2.01-.567.225-.595.442c-.03.243.275.339.69.47l.175.055c.408.133.958.288 1.243.294q.39.01.868-.32 3.269-2.206 3.374-2.23c.05-.012.12-.026.166.016s.042.12.037.141c-.03.129-1.227 1.241-1.846 1.817-.193.18-.33.307-.358.336a8 8 0 0 1-.188.186c-.38.366-.664.64.015 1.088.327.216.589.393.85.571.284.194.568.387.936.629q.14.092.27.187c.331.236.63.448.997.414.214-.02.435-.22.547-.82.265-1.417.786-4.486.906-5.751a1.4 1.4 0 0 0-.013-.315.34.34 0 0 0-.114-.217.53.53 0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09"/>
        </svg>
    </a>
</section>
<!-- End Contact section -->


</body>
</html>